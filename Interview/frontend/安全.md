# 前端安全类

* XSS
* CSRF

## CSRF

cross-site request forgery 跨站请求伪造

**原理**：

1. 用户登录过网站A
2. A网站给用户下发 cookie
3. 用户访问网站B
4. B网站引诱用户点击
5. 用户点击后请求了网站A的某个接口，因为cookie还在，A网站认为该登录用户进行了操作，可能添加删除数据

发生前提：用户登陆过网站A，用户点击请求时cookie有效

![CSRF](http://om1o84p1p.bkt.clouddn.com/1503815405.png?imageMogr2/thumbnail/!70p)

**防御测试**：

* Token 验证：访问网站是会主动上传cookie，但不会主动传 token。访问接口是没有 token 则不予通过验证
* r 验证：页面来源是自己站点才通过
* 隐层令牌：隐藏在 http head 中，类似 token，使用方式有些区别

## XSS

cross-site scripting 跨站脚本攻击

**原理**：

不需要登录认证，向页面注入脚本，写入标签，执行有害脚本。可能是评论区添加注入的

**防御措施**：

让插入的东西无法执行。KBB 编辑器。html escape。